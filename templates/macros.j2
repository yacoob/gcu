{% macro photo(href, title, thumb) %}
{%- set imgsrc = thumb|default(href, true) -%}
{%- if 'youtu' in href -%}
{%- set icon = 'glyphicon-play-circle' -%}
{%- else -%}
{%- set icon = 'glyphicon-fullscreen' -%}
{%- endif -%}
<div class='col-xs-6 col-md-3 col-lg-2'>
  <div class='gallery-entry voffset-bottom-small'>
    <a class='gallery' href='{{ href }}'>
      <img class='img-rounded img-responsive' src='{{ imgsrc | replace("s1920", "s400-p") }}'{% if title %} title='{{ title|e }}' alt='{{ title|e }}'{% endif %} />
      <span class='glyphicon {{icon}} gallery-icon'></span>
    </a>
  </div>
</div>
{% endmacro %}

{% macro title_row(title, href) %}
<div class='col-sm-12 col-md-8 text-right'>
  <h1 class='title'><a href='{{ href }}'>{{ title }}</a></h1>
</div> <!-- column -->
{% endmacro %}

{% macro thumbnail(href_url, img_url, title, width=3) %}
<div class='col-xs-12 col-sm-4 col-md-{{ width }} text-center'>
  <div class='model'>
    <img class='img-rounded img-responsive' src='{{ img_url|replace('s1920', 's400-p') }}'>
    <div class='overlay'>
      <a href='{{ href_url }}'></a>
      <h3>{{ title }}</h3>
    </div>
  </div>
</div>
{% endmacro %}

{% macro entry_photos(entry) %}
<div class='row voffset-small'>
{% for p in entry.photos %}
{{ photo(p.href, p.title) }}
{% endfor %}
</div>
{% endmacro %}
